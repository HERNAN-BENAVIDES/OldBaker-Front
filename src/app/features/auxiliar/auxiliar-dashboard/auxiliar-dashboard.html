<header class="header">
  <div class="header-content">
    <div class="logo">
      <span class="logo-icon">ğŸ</span>
      <h1>Panel del Auxiliar - OldBaker</h1>
    </div>
    <div class="user-info">
      <span class="user-icon">ğŸ‘¤</span>
      <span>Auxiliar</span>
    </div>
  </div>
  <p class="subtitle">VerificaciÃ³n y gestiÃ³n de pedidos de insumos</p>
</header>

<main class="main-content">
  <h2>MÃ³dulos de GestiÃ³n</h2>
  
  <div class="modules-grid">
    <!-- Detalles de Pedidos -->
    <div class="module-card" (click)="navigateToModule('detalles-pedidos')">
      <div class="module-icon">ğŸ“‹</div>
      <div class="module-content">
        <h3>Detalles de Pedidos</h3>
        <p>Revisar y verificar los detalles de cada pedido recibido para confirmar su estado.</p>
        <div class="module-stats">
          <span class="stat-number">{{ moduleStats().pendingOrders }}</span>
          <span class="stat-label">Pedidos pendientes</span>
        </div>
      </div>
      <div class="module-arrow">â†’</div>
    </div>

    <!-- Pedidos de Insumos -->
    <div class="module-card" (click)="navigateToModule('pedidos-insumos')">
      <div class="module-icon">ğŸ“¦</div>
      <div class="module-content">
        <h3>Pedidos de Insumos</h3>
        <p>Visualizar el listado completo de pedidos de insumos y su informaciÃ³n detallada.</p>
        <div class="module-stats">
          <span class="stat-number">{{ moduleStats().activeOrders }}</span>
          <span class="stat-label">Pedidos activos</span>
        </div>
      </div>
      <div class="module-arrow">â†’</div>
    </div>

    <!-- Reportes a Proveedores -->
    <div class="module-card" (click)="navigateToModule('reportes-proveedores')">
      <div class="module-icon">âš ï¸</div>
      <div class="module-content">
        <h3>Reportes a Proveedores</h3>
        <p>Generar reportes por pedidos incompletos, productos vencidos o devoluciones.</p>
        <div class="module-stats">
          <span class="stat-number">{{ moduleStats().pendingReports }}</span>
          <span class="stat-label">Reporte pendiente</span>
        </div>
      </div>
      <div class="module-arrow">â†’</div>
    </div>
  </div>

  <!-- Panel de Estado -->
  <div class="status-panel">
    <h3>Estado General</h3>
    <div class="status-grid">
      <div class="status-item" [ngClass]="getStatusColor(moduleStats().approvedOrders)">
        <div class="status-icon">âœ…</div>
        <div class="status-info">
          <span class="status-number">{{ moduleStats().approvedOrders }}</span>
          <span class="status-label">Pedidos Aprobados</span>
        </div>
      </div>
      <div class="status-item" [ngClass]="getStatusColor(moduleStats().pendingVerification)">
        <div class="status-icon">â³</div>
        <div class="status-info">
          <span class="status-number">{{ moduleStats().pendingVerification }}</span>
          <span class="status-label">Pendientes de VerificaciÃ³n</span>
        </div>
      </div>
      <div class="status-item" [ngClass]="getStatusColor(moduleStats().activeReports)">
        <div class="status-icon">âŒ</div>
        <div class="status-info">
          <span class="status-number">{{ moduleStats().activeReports }}</span>
          <span class="status-label">Reportes Activos</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Acciones RÃ¡pidas -->
  <div class="quick-actions">
    <h3>Acciones RÃ¡pidas</h3>
    <div class="action-buttons">
      <button 
        class="action-btn primary" 
        (click)="quickAction('verificar-pedido')"
        [disabled]="isLoading()">
        <span class="btn-icon">ğŸ”</span>
        Verificar Ãšltimo Pedido
      </button>
      <button 
        class="action-btn secondary" 
        (click)="quickAction('crear-reporte')"
        [disabled]="isLoading()">
        <span class="btn-icon">ğŸ“</span>
        Crear Reporte
      </button>
      <button 
        class="action-btn tertiary" 
        (click)="quickAction('ver-historial')"
        [disabled]="isLoading()">
        <span class="btn-icon">ğŸ“Š</span>
        Ver Historial
      </button>
    </div>
  </div>

  <!-- BotÃ³n de ActualizaciÃ³n Manual -->
  <div class="refresh-section">
    <button 
      class="action-btn primary refresh-btn" 
      (click)="refreshStats()"
      [disabled]="isLoading()">
      <span class="btn-icon">ğŸ”„</span>
      Actualizar Datos
    </button>
  </div>
</main>

<!-- Loading Overlay -->
<div class="loading-overlay" *ngIf="isLoading()">
  <div class="spinner"></div>
  <p class="loading-text">Cargando...</p>
</div>

<!-- Notification -->
<div 
  class="notification" 
  [ngClass]="notificationType()" 
  *ngIf="showNotification()">
  <span class="notification-icon">
    <span *ngIf="notificationType() === 'success'">âœ…</span>
    <span *ngIf="notificationType() === 'error'">âŒ</span>
    <span *ngIf="notificationType() === 'info'">â„¹ï¸</span>
    <span *ngIf="notificationType() === 'warning'">âš ï¸</span>
  </span>
  <span class="notification-message">{{ notificationMessage() }}</span>
  <button 
    class="notification-close" 
    (click)="closeNotification()"
    aria-label="Cerrar notificaciÃ³n">
    Ã—
  </button>
</div>

<!-- Footer opcional -->
<footer class="footer" *ngIf="!isLoading()">
  <div class="footer-content">
    <p>&copy; 2024 OldBaker - Panel del Auxiliar</p>
    <p>Ãšltima actualizaciÃ³n: {{ getLastUpdateTime() }}</p>
  </div>
</footer>